{
    "paths": {
        "/restaurants/{restaurant}/showMenu/{menu}": {
            "get": {
                "summary": "Exibe um menu específico de um restaurante",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "description": "Nome ou ID do restaurante",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "menu",
                        "in": "path",
                        "required": true,
                        "description": "ID do menu",
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "Menu exibido com sucesso" },
                    "403": { "description": "Acesso não autorizado" },
                    "404": { "description": "Menu não encontrado" },
                    "500": { "description": "Erro interno" }
                }
            }
        },
        "/restaurants/{restaurant}/search": {
            "get": {
                "summary": "Filtra e ordena menus do restaurante",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "name",
                        "in": "query",
                        "description": "Filtrar por nome do menu",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "type",
                        "in": "query",
                        "description": "Filtrar por tipo de menu",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "order",
                        "in": "query",
                        "description": "Ordenação (ex: nameAsc, nameDesc)",
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "OK" },
                    "403": { "description": "Acesso não autorizado" },
                    "404": { "description": "Nenhum menu encontrado" }
                }
            }
        },
        "/restaurants/{restaurant}/showMenu/{menu}/search": {
            "get": {
                "summary": "Filtra e ordena pratos dentro de um menu",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "menu",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "dishName",
                        "in": "query",
                        "description": "Filtrar por nome do prato",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "category",
                        "in": "query",
                        "description": "Filtrar por categoria",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "price",
                        "in": "query",
                        "description": "Filtrar por preço máximo",
                        "schema": { "type": "number" }
                    },
                    {
                        "name": "portion",
                        "in": "query",
                        "description": "Filtrar por tipo de porção",
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "order",
                        "in": "query",
                        "description": "Ordenação (ex: priceAsc, priceDesc)",
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "OK" },
                    "403": { "description": "Acesso não autorizado" },
                    "404": { "description": "Nenhum prato encontrado" }
                }
            }
        },
        "/restaurants/{restaurant}/createMenu": {
            "get": {
                "summary": "Página de criação de novo menu",
                "tags": ["Menu"],
                "parameters": [{
                    "name": "restaurant",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string" }
                }],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "Página carregada" },
                    "403": { "description": "Acesso não autorizado" }
                }
            }
        },
        "/restaurants/{restaurant}/saveMenuFinal": {
            "post": {
                "summary": "Salva um novo menu",
                "tags": ["Menu"],
                "parameters": [{
                    "name": "restaurant",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string" }
                }],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": { "type": "string" },
                                    "type": { "type": "string" },
                                    "menuPhoto": { 
                                        "type": "string",
                                        "format": "binary" 
                                    },
                                    "dishes": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "properties": {
                                                "name": { "type": "string" },
                                                "description": { "type": "string" },
                                                "category": { "type": "string" },
                                                "portions": { "type": "array" }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Menu salvo" },
                    "403": { "description": "Acesso não autorizado" },
                    "500": { "description": "Erro ao salvar" }
                }
            }
        },
        "/restaurants/{restaurant}/editMenu/{menuId}": {
            "get": {
                "summary": "Página de edição de menu",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "menuId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "Página carregada" },
                    "404": { "description": "Menu não encontrado" }
                }
            }
        },
        "/restaurants/{restaurant}/updateMenu/{menuId}": {
            "post": {
                "summary": "Atualiza um menu existente",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "menuId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": { "type": "string" },
                                    "type": { "type": "string" },
                                    "menuPhoto": { 
                                        "type": "string",
                                        "format": "binary" 
                                    },
                                    "dishes": { "type": "array" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Menu atualizado" },
                    "403": { "description": "Acesso não autorizado" },
                    "500": { "description": "Erro ao atualizar" }
                }
            }
        },
        "/restaurants/{restaurant}/deleteMenu/{menuId}": {
            "post": {
                "summary": "Exclui um menu",
                "tags": ["Menu"],
                "parameters": [
                    {
                        "name": "restaurant",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    },
                    {
                        "name": "menuId",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "string" }
                    }
                ],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "responses": {
                    "200": { "description": "Menu excluído" },
                    "403": { "description": "Acesso não autorizado" },
                    "500": { "description": "Erro ao excluir" }
                }
            }
        },
        "/restaurants/{restaurant}/confirmNutrition": {
            "post": {
                "summary": "Valida dados nutricionais dos ingredientes",
                "tags": ["Menu"],
                "parameters": [{
                    "name": "restaurant",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string" }
                }],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "ingredients": {
                                        "type": "array",
                                        "items": { "type": "string" }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Dados validados" },
                    "400": { "description": "Dados inválidos" }
                }
            }
        },
        "/restaurants/{restaurant}/validateIngredient": {
            "post": {
                "summary": "Valida um ingrediente via API externa",
                "tags": ["Menu"],
                "parameters": [{
                    "name": "restaurant",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string" }
                }],
                "security": [{ "tokenCookie": [], "priorityCookie": [] }],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "type": { 
                                        "type": "string",
                                        "enum": ["name", "barcode"] 
                                    },
                                    "value": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": { "description": "Ingrediente validado" },
                    "404": { "description": "Dados não encontrados" }
                }
            }
        }
    }
}